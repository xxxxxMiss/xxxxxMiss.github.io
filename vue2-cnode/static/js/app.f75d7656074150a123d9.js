webpackJsonp([1,2],Array(19).concat([function(t,e){},function(t,e,n){"use strict";e.a={tabs:[{0:"全部",tab:"all",isCurrent:!0},{1:"精华",tab:"good",isCurrent:!1},{2:"分享",tab:"share",isCurrent:!1},{3:"问答",tab:"ask",isCurrent:!1},{4:"招聘",tab:"job",isCurrent:!1}],menus:[{icon:"home",text:"首页",path:"/index"},{icon:"publish",text:"发布",path:"/topic/create"},{icon:"message",text:"消息",path:"/messages"},{icon:"mine",text:"我的",path:"/user"}],mines:[{icon:"theme-1",text:"我的发布",path:"/mine/publish"},{icon:"about",text:"关于",path:"/mine/about"}]}},,,,,,,,,,,function(t,e,n){"use strict";var s=n(13),i=n.n(s),o=n(80),a=n.n(o),c=n(4),r=(n.n(c),n(33)),u=n(32),l=n(154),d=n.n(l),m=n(151),f=n.n(m),p=n(150),h=n.n(p),v=n(49),g=n.n(v),_=n(161),C=n.n(_);e.a={data:function(){return{loginView:null,topicView:null,toastView:null,loadingView:null}},methods:{requestAuth:function(t){r.a.state.user.accesstoken?t():(this.showLoginModal(),this.$root.$on("before-login-action",t))},g_login:function(t,e){var n=t.accesstoken;r.a.dispatch("validateAccesstoken",{accesstoken:n}).then(function(t){t.success&&(sessionStorage.setItem("user",a()(r.a.state.user)),e?e():u.a.push({name:"mine",params:{loginname:t.loginname}}))})},g_logout:function(){r.a.dispatch("logout")},showLoginModal:function(t){this.$root.$children[0].loginView=g.a,"function"==typeof t&&t()},dismissLoginModal:function(t){this.$root.$children[0].loginView=null,"function"==typeof t&&t(),this.user.accesstoken&&this.$root.$emit("before-login-action"),this.$root.$off("before-login-action")},showDetailModal:function(t,e){this._handleData(C.a,t),"function"==typeof e&&e()},dismissDetailModal:function(t){this.$root.$children[0].topicView=null,"function"==typeof t&&t()},showToast:function(t){var e=this;"string"==typeof t&&(t={msg:t}),this._handleData(f.a,t),setTimeout(function(){e.$root.$children[0].toastView=null},2500)},_handleData:function(t,e){e=i()(t.data(),e),t.data=function(){return e},this.$root.$children[0][t.name+"View"]=t}},computed:n.i(c.mapGetters)(["user"]),components:{VHeader:d.a,login:g.a,topic:C.a,toast:f.a,loading:h.a}}},function(t,e,n){"use strict";var s=n(6),i=n.n(s),o=n(179),a=n.n(o),c=n(157),r=n.n(c),u=n(51),l=n.n(u),d=n(158),m=n.n(d),f=n(50),p=n.n(f),h=n(159),v=n.n(h),g=n(160),_=n.n(g),C=n(49),b=n.n(C),k=n(155),w=n.n(k);i.a.use(a.a),e.a=new a.a({routes:[{path:"/",redirect:{name:"index"}},{path:"/index",name:"index",component:r.a,meta:{requiresAuth:!1}},{path:"/topic/create",component:l.a,meta:{requiresAuth:!0}},{path:"/topic/update",component:l.a,meta:{requiresAuth:!0}},{name:"my-collected",path:"/user/:loginname",component:v.a,meta:{requiresAuth:!0}},{path:"/mine/publish",component:_.a,meta:{requiresAuth:!0}},{path:"/user",component:p.a,name:"mine",meta:{requiresAuth:!1}},{path:"/messages",component:m.a,meta:{requiresAuth:!0}},{path:"/login",component:b.a,meta:{requiresAuth:!1}},{path:"/mine/about",component:w.a}]})},function(t,e,n){"use strict";var s=n(6),i=n.n(s),o=n(4),a=n.n(o),c=n(79),r=n(77),u=n(78);i.a.use(a.a);var l={showLoading:!1,themeDetail:{},user:{}};e.a=new a.a.Store({state:l,getters:u,actions:r,mutations:c.a})},,function(t,e,n){"use strict";function s(t,e,n){var s=void 0,i=new Date;return function(){var o=this,a=arguments,c=new Date;clearTimeout(s),c-i>=n?(t.apply(o,a),i=c):s=setTimeout(t,e)}}function i(t,e,n,s,i){i=i||function(){},void function(o,a,c){function r(){!window.open([u,l].join(""),"mb",["toolbar=0,status=0,resizable=1,width=620,height=450,left=",(o.width-620)/2,",top=",(o.height-450)/2].join(""))}var u="http://v.t.sina.com.cn/share/share.php?",l=["&url="+c(t),"&appkey="+s,"&title=",c(e)].join("");n!==!1&&(l+="&pic="+n),/Firefox/.test(navigator.userAgent)?setTimeout(r,0):r(),i()}(screen,document,encodeURIComponent)}e.a=s,e.b=i},function(t,e,n){"use strict";n.d(e,"f",function(){return s}),n.d(e,"g",function(){return i}),n.d(e,"h",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"d",function(){return c}),n.d(e,"c",function(){return r}),n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var s="REQUEST_START",i="REQUEST_SUCCESS",o="REQUEST_END",a="FETCH_TOPIC_DETAIL",c="SAVE_USER_INFO",r="CLEAR_USER_INFO",u="SAVE_COLLECT",l="DEL_COLLECT"},,,,,,,,,,,,function(t,e,n){n(137);var s=n(0)(n(68),n(173),null,null);t.exports=s.exports},function(t,e,n){n(133);var s=n(0)(n(69),n(169),null,null);t.exports=s.exports},function(t,e,n){n(141);var s=n(0)(n(71),n(177),null,null);t.exports=s.exports},function(t,e,n){n(127);var s=n(0)(n(74),n(163),null,null);t.exports=s.exports},function(t,e,n){"use strict";var s=n(6),i=n.n(s),o=n(152),a=n.n(o),c=i.a.extend(a.a);e.a={top:{bind:function(t){var e=new c,n=e.$mount().$el;t.appendChild(n),t.addEventListener("scroll",function(){this.scrollTop>200?n.classList.add("fade-in"):n.classList.remove("fade-in")}),e.$on("go-top",function(){t.scrollTop=0})}}}},function(t,e,n){"use strict";function s(t){switch(t){case"ask":return"问答";case"share":return"分享";case"job":return"工作";case"good":return"精华";default:return""}}function i(t){var e=new Date(t),n=(new Date).getTime()-e.getTime();return n<0?"":n/1e3<30?"刚刚":n/1e3<60?parseInt(n/1e3)+"秒前":n/6e4<60?parseInt(n/6e4)+"分钟前":n/36e5<24?parseInt(n/36e5)+"小时前":n/864e5<31?parseInt(n/864e5)+"天前":n/2592e6<12?parseInt(n/2592e6)+"月前":parseInt(n/31536e6)+"年前"}function o(t){return"/vue2-cnode/static/"+t}Object.defineProperty(e,"__esModule",{value:!0}),e.filterCategory=s,e.formatDate=i,e.assets=o},,function(t,e){},function(t,e){},function(t,e){},function(t,e,n){n(131);var s=n(0)(n(60),n(167),null,null);t.exports=s.exports},,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(6),i=(n.n(s),n(153)),o=n.n(i),a=n(20);e.default={name:"app",data:function(){return{menus:a.a.menus}},methods:{afterLoginEnter:function(){this.$refs.login.$refs.input.focus()}},components:{VFooter:o.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),i=n.n(s),o=n(4);n.n(o);e.default={name:"loading",props:{backgroundColor:{type:String,default:"rgba(0, 0, 0, .4)"},opacity:{type:[Number,String],default:1}},computed:i()({},n.i(o.mapGetters)(["showLoading"]),{options:function(){return{"background-color":this.backgroundColor,opacity:this.opacity}}}),data:function(){return{text:""}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"toast",data:function(){return{position:"",msg:""}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={methods:{goTop:function(){this.$emit("go-top")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(20);e.default={name:"footer",data:function(){return{items:s.a.menus}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"header",props:{showMenu:{type:Boolean,default:!1},bgColor:String,showBack:{type:Boolean,default:!0},content:String},computed:{menu:function(){return{visibility:this.showMenu?"visible":"hidden"}},back:function(){return{visibility:this.showBack?"visible":"hidden"}},headerBGColor:function(){return{"background-color":this.bgColor?this.bgColor:"#2594e9"}}},data:function(){return{}},methods:{goback:function(){this.$router&&this.$router.back(),this.$emit("back")},action:function(){console.log("------")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),i=n.n(s),o=n(4);n.n(o);e.default={props:{item:{type:Object,default:function(){return{}}},topic_id:{type:String,required:!0},author_id:{type:String,required:!0}},data:function(){return{commentActive:!1,commentContent:"@"+this.item.author.loginname+" ",upsLength:this.item.ups.length}},methods:i()({},n.i(o.mapActions)(["upComment","createComment"]),{comment:function(){var t=this;this.requestAuth(function(){t.commentActive=!0,t.$nextTick(function(){t.$refs.textarea.focus()})})},submitComment:function(){var t=this;return this.commentContent.trim()?void this.createComment({accesstoken:this.user.accesstoken,content:this.commentContent,topic_id:this.topic_id,reply_id:this.item.id}).then(function(e){if(1!=e.success)return t.showToast(e.error_msg);var n=t.user,s=n.avatar_url,i=n.loginname,o={id:t.topic_id,author:{avatar_url:s,loginname:i},create_at:new Date,content:t.commentContent,ups:[],reply_id:e.reply_id};t.$root.detailVm&&t.$root.detailVm.theme.replies.push(o),t.commentContent="",t.commentActive=!1}):this.showToast({msg:"评论内容不能为空",position:"center"})},ups:function(){var t=this;this.requestAuth(function(){return t.author_id===t.user.id?t.showToast({msg:"呵呵，不能为自己点赞",position:"center"}):void t.upComment({reply_id:t.item.id,accesstoken:t.user.accesstoken}).then(function(e){return 1!=e.success?t.showToast(e.error_msg):void("up"===e.action?t.upsLength+=1:t.upsLength-=1)})})}})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),i=n.n(s),o=n(6),a=(n.n(o),n(48)),c=n.n(a),r=n(51),u=(n.n(r),n(50)),l=(n.n(u),n(35)),d=n(4),m=(n.n(d),10),f=.06;e.default={name:"index",data:function(){return{value:"all",topics:[],scrollH:0,page:1}},computed:n.i(d.mapGetters)(["user"]),watch:{value:function(t,e){this.topics=[],this.value=t,this.page=1,this.fetchData(t)}},methods:i()({},n.i(d.mapActions)(["fetchTopics","fetchTopicDetail"]),{fetchData:function(t){var e=this;this.fetchTopics({page:this.page,tab:t,limit:m}).then(function(t){e.topics=e.topics.concat(t),e.page+=1})},handleScroll:function(){var t=this,e=function(){var e=t.$refs.content,n=e.offsetHeight;e.scrollTop>t.scrollH-n-f*n&&t.fetchData(t.value)};return n.i(l.a)(e,300,1e3)},showDetail:function(t){var e=this;this.fetchTopicDetail({id:t,accesstoken:this.user.accesstoken}).then(function(t){e.showDetailModal({theme:t})})}}),created:function(){this.fetchData(this.value)},updated:function(){this.scrollH=this.$refs.content.scrollHeight},mounted:function(){this.$refs.content.addEventListener("scroll",this.handleScroll())},components:{ListItem:c.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"list-item",props:{item:{type:Object,default:function(){return{}}}},methods:{clickItem:function(){this.$emit("item-click",this.item.id)}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"login",data:function(){return{accesstoken:"",loading:!0}},methods:{login:function(){var t=this;return this.accesstoken?void this.g_login({accesstoken:this.accesstoken},function(){t.dismissLoginModal(function(){t.$root.mineVm&&t.$root.mineVm.$forceUpdate(),delete t.$root.mineVm})}):this.showToast("请输入accesstoken")},dismissModal:function(){this.dismissLoginModal()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),i=n.n(s),o=n(4);n.n(o);e.default={data:function(){return{hasReadMessages:[],notReadMessages:[],toggleMessage:!0,showTips:!0,texts:["左","右","滑","动","试","试"]}},computed:{headerTitle:function(){return this.toggleMessage===!0?"已读消息":"未读消息"},unreadMsgCount:function(){return this.notReadMessages.length>99?"99+":this.notReadMessages.length}},methods:i()({},n.i(o.mapActions)(["fetchAllMessages","fetchTopicDetail"]),{showDetail:function(t){var e=this;this.fetchTopicDetail({id:t,accesstoken:this.user.accesstoken}).then(function(t){return t instanceof Error?e.showToast({msg:"该话题不存在或者已被删除",position:"center"}):void e.showDetailModal({theme:t})})},swipe:function(){this.toggleMessage=!this.toggleMessage},enter:function(){this.showTips=!1},afterLeave:function(){this.showTips=!0},tipsAfterEnter:function(){var t=this;setTimeout(function(){t.enter()},3e3)}}),created:function(){var t=this;this.fetchAllMessages({accesstoken:this.user.accesstoken}).then(function(e){t.hasReadMessages=e.has_read_messages,t.notReadMessages=e.hasnot_read_messages})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(20);e.default={data:function(){return{mines:s.a.mines}},methods:{login:function(){var t=this;this.showLoginModal(function(){t.$root.mineVm=t})},logout:function(){this.g_logout()}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),i=n.n(s),o=n(48),a=n.n(o),c=n(4);n.n(c);e.default={data:function(){return{collecteds:[]}},methods:i()({},n.i(c.mapActions)(["fetchCollectedTopics","fetchTopicDetail"]),{showDetail:function(t){var e=this;this.fetchTopicDetail({id:t,accesstoken:this.user.accesstoken}).then(function(t){e.showDetailModal({theme:t},function(){e.$root.mineCollectVm=e})})}}),created:function(){var t=this;this.fetchCollectedTopics(this.user.loginname).then(function(e){t.collecteds=e})},components:{ListItem:a.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),i=n.n(s),o=n(4);n.n(o);e.default={data:function(){return{mineTopics:[]}},methods:i()({},n.i(o.mapActions)(["fetchUserInfo","fetchTopicDetail"]),{clickItem:function(t){var e=this;this.fetchTopicDetail({id:t,accesstoken:this.user.accesstoken}).then(function(t){e.showDetailModal({theme:t})})}}),created:function(){var t=this;this.fetchUserInfo(this.user.loginname).then(function(e){t.mineTopics=e.recent_topics})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),i=n.n(s),o=(n(31),n(4));n.n(o);e.default={name:"publish",data:function(){return{categorys:[{tab:"分享",key:"share"},{tab:"问答",key:"ask"},{tab:"招聘",key:"job"}],tab:"share",title:"",content:""}},methods:i()({},n.i(o.mapActions)(["createTopic"]),{publishTopic:function(){var t=this;return!this.title.trim()||this.title&&this.title.trim().length<10?this.showToast({msg:"标题字数不能少于10个字"}):this.content?void this.createTopic({accesstoken:this.user.accesstoken,title:this.title,tab:this.tab,content:this.content}).then(function(e){t.$router.push("/index")}):this.showToast({msg:"主题内容不能为空"})}})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(5),i=n.n(s),o=n(156),a=n.n(o),c=n(4),r=(n.n(c),n(35));e.default={name:"topic",components:{CommentItem:a.a},data:function(){return{theme:{},commentContent:"",isMenuShow:!1}},computed:{isCollect:function(){return this.theme.is_collect},collectText:function(){return this.isCollect?"取消收藏":"收藏"}},methods:i()({},n.i(c.mapActions)(["createComment","collectTopic","delCollect"]),{share:function(){n.i(r.b)(location.href,document.querySelector("meta[name=description]").getAttribute("content"),this.theme.author.avatar_url,"")},toggleCollect:function(){var t=this;this.requestAuth(function(){t.isCollect?t.delCollect({accesstoken:t.user.accesstoken,topic_id:t.theme.id}).then(function(e){return 1!=e.success?t.showToast(e.error_msg):(t.showToast({msg:"已取消收藏",position:"center"}),void(t.theme.is_collect=!1))}):t.collectTopic({accesstoken:t.user.accesstoken,topic_id:t.theme.id}).then(function(e){return 1!=e.success?t.showToast(e.error_msg):(t.showToast({msg:"收藏成功",position:"center"}),void(t.theme.is_collect=!0))})})},showMenu:function(){this.isMenuShow=!0},hideMenu:function(){this.isMenuShow=!1},dismissModal:function(){var t=this;this.dismissDetailModal(function(){t.$root.mineCollectVm&&(t.$root.mineCollectVm.collecteds=t.user.collect),delete t.$root.mineCollectVm})},submitComment:function(){var t=this;this.requestAuth(function(){return t.commentContent.trim()?void t.createComment({accesstoken:t.user.accesstoken,content:t.commentContent,topic_id:t.theme.id,reply_id:""}).then(function(e){var n=t.user,s=n.avatar_url,i=n.loginname,o={id:t.theme.id,author:{avatar_url:s,loginname:i},create_at:new Date,content:t.commentContent,ups:[]};t.theme.replies.push(o),t.commentContent=""}):t.showToast({msg:"评论内容不能为空",position:"center"})})}}),created:function(){this.$root.detailVm=this}}},function(t,e,n){"use strict";function s(t){var e=t.page,n=t.tab,s=t.limit,i=t.mdrender,o=void 0===i||i;return g.a.get(_+"/api/v1/topics").query({page:e,tab:n,limit:s,mdrender:o})}function i(t){var e=t.id,n=t.mdrender,s=void 0===n||n,i=t.accesstoken,o=void 0===i?"":i;return g.a.get(_+"/api/v1/topic/"+e).query({mdrender:s,accesstoken:o})}function o(t){var e=t.accesstoken,n=t.title,s=t.tab,i=t.content;return g.a.post(_+"/api/v1/topics").send({accesstoken:e,title:n,tab:s,content:i})}function a(t){var e=t.accesstoken,n=t.topic_id;return g.a.post(_+"/api/v1/topic_collect/collect").send({accesstoken:e,topic_id:n})}function c(t){var e=t.accesstoken,n=t.topic_id;return g.a.post(_+"/api/v1/topic_collect/de_collect").send({accesstoken:e,topic_id:n})}function r(t){return g.a.get(_+"/api/v1/topic_collect/"+t)}function u(t){var e=t.topic_id,n=t.accesstoken,s=t.content,i=t.reply_id,o=void 0===i?"":i;return g.a.post(_+"/api/v1/topic/"+e+"/replies").send({accesstoken:n,content:s,reply_id:o})}function l(t){var e=t.reply_id,n=t.accesstoken;return g.a.post(_+"/api/v1/reply/"+e+"/ups").send({accesstoken:n})}function d(t){return g.a.get(_+"/api/v1/user/"+t)}function m(t){return g.a.post(_+"/api/v1/accesstoken").send({accesstoken:t})}function f(t){return g.a.get(_+"/api/v1/message/count").query({accesstoken:t})}function p(t){var e=t.accesstoken,n=t.mdrender,s=void 0===n||n;return g.a.get(_+"/api/v1/messages").query({accesstoken:e,mdrender:s})}function h(t){return g.a.post(_+"/api/v1/message/mark_all").send({accesstoken:t})}var v=n(144),g=n.n(v);e.i=s,e.j=i,e.f=o,e.c=a,e.d=c,e.b=r,e.g=u,e.h=l,e.e=d,e.m=m,e.k=f,e.a=p,e.l=h;var _="https://cnodejs.org"},function(t,e,n){"use strict";function s(t,e,n){var s=(t.dispatch,t.commit);return s(d.f),e().then(function(t){s(d.g);var e=t.body.data;return n&&s(n,e),e},function(t){return s(d.h,t),t})}Object.defineProperty(e,"__esModule",{value:!0});var i=n(13),o=n.n(i),a=n(82),c=n.n(a),r=n(34),u=n.n(r),l=n(76),d=n(36);n.d(e,"fetchAllMessages",function(){return m}),n.d(e,"fetchCollectedTopics",function(){return f}),n.d(e,"collectTopic",function(){return p}),n.d(e,"delCollect",function(){return h}),n.d(e,"fetchUserInfo",function(){return v}),n.d(e,"createTopic",function(){return g}),n.d(e,"createComment",function(){return _}),n.d(e,"upComment",function(){return C}),n.d(e,"fetchTopics",function(){return b}),n.d(e,"fetchTopicDetail",function(){return k}),n.d(e,"fetchUnreadMessage",function(){return w}),n.d(e,"markAllMessagesRead",function(){return x}),n.d(e,"validateAccesstoken",function(){return y}),n.d(e,"logout",function(){return M});var m=function(t,e){return s(t,function(){return l.a(e)})},f=function(t,e){return s(t,function(){return l.b(e)},d.b)},p=function(t,e){var n=(t.dispatch,t.commit,e.accesstoken),s=e.topic_id;return l.c({accesstoken:n,topic_id:s}).then(function(t){var e=t.body;return e})},h=function(t,e){var n=(t.dispatch,t.commit),s=e.accesstoken,i=e.topic_id;return l.d({accesstoken:s,topic_id:i}).then(function(t){var e=t.body;return n(d.a,i),e})},v=function(t,e){return s(t,function(){return l.e(e)},d.d)},g=function(t,e){return s(t,function(){return l.f(e)})},_=function(t,e){var n=(t.dispatch,t.commit);return n(d.f),l.g(e).then(function(t){var e=t.body;return n(d.g),e},function(t){return n(d.h),t})},C=function(t,e){return l.h(e).then(function(t){var e=t.body;return e},function(t){return t})},b=function(t,e){var n=(t.dispatch,t.commit);n(d.f);e.tab;return l.i(e).then(function(t){var e=t.body.data;return n(d.g),e},function(t){return n(d.h),t})},k=function(t,e){var n=u()(t.state.themeDetail);if(n.length>0){var i=t.state.themeDetail.id,o=e.id;if(i===o)return c.a.resolve(t.state.themeDetail)}return s(t,function(){return l.j(e)},d.e)},w=function(t,e){t.dispatch,t.commit;return l.k({accesstoken:accesstoken}).then(function(t){var e=t.body;return e})},x=function(t,e){t.dispatch,t.commit;return l.l({accesstoken:accesstoken}).then(function(t){var e=t.body;return e})},y=function(t,e){var n=(t.dispatch,t.commit),s=e.accesstoken,i=e.id;return i?(n(d.d,e),void c.a.resolve(e)):(n(d.f),l.m(s).then(function(t){var e=t.body,i=o()(e,{accesstoken:s});return n(d.d,i),n(d.g),i}))},M=function(t){var e=t.commit,n=JSON.parse(sessionStorage.getItem("user"));n.accesstoken&&sessionStorage.removeItem("user"),e(d.c)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"showLoading",function(){return s}),n.d(e,"user",function(){return i});var s=function(t){return t.showLoading},i=function(t){return t.user}},function(t,e,n){"use strict";var s,i=n(83),o=n.n(i),a=n(13),c=n.n(a),r=n(36);e.a=s={},o()(s,r.a,function(t,e){!t.user.collect||t.user.collect&&!t.user.collect.length||(t.user.collect=t.user.collect.filter(function(t){if(t.id!==e)return t}))}),o()(s,r.b,function(t,e){t.user.collect=e}),o()(s,r.c,function(t){t.user={}}),o()(s,r.d,function(t,e){t.user=c()(t.user,e)}),o()(s,r.e,function(t,e){t.themeDetail=e}),o()(s,r.f,function(t){t.showLoading=!0}),o()(s,r.g,function(t){t.showLoading=!1}),o()(s,r.h,function(t){t.showLoading=!1}),s},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,,,function(t,e,n){n(130);var s=n(0)(n(61),n(166),null,null);t.exports=s.exports},function(t,e,n){n(129);var s=n(0)(n(62),n(165),null,null);t.exports=s.exports},function(t,e,n){n(138);var s=n(0)(n(63),n(174),null,null);t.exports=s.exports},function(t,e,n){n(140);var s=n(0)(n(64),n(176),null,null);t.exports=s.exports},function(t,e,n){n(134);var s=n(0)(n(65),n(170),null,null);t.exports=s.exports},function(t,e,n){n(142);var s=n(0)(null,n(178),null,null);t.exports=s.exports},function(t,e,n){n(135);var s=n(0)(n(66),n(171),null,null);t.exports=s.exports},function(t,e,n){n(139);var s=n(0)(n(67),n(175),null,null);t.exports=s.exports},function(t,e,n){n(126);var s=n(0)(n(70),n(162),null,null);t.exports=s.exports},function(t,e,n){n(132);var s=n(0)(n(72),n(168),null,null);t.exports=s.exports},function(t,e,n){n(136);var s=n(0)(n(73),n(172),null,null);t.exports=s.exports},function(t,e,n){n(128);var s=n(0)(n(75),n(164),null,null);t.exports=s.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-touch",{on:{swipeleft:t.swipe,swiperight:t.swipe}},[n("div",{staticClass:"page message-page"},[n("v-header",{attrs:{showBack:!1,content:t.headerTitle}}),n("div",{staticClass:"page-content"},[n("transition",{attrs:{name:"msg"},on:{enter:t.enter,"after-leave":t.afterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.toggleMessage,expression:"toggleMessage"}],staticClass:"container"},[t._l(t.hasReadMessages,function(e){return n("div",{staticClass:"wapper",on:{click:function(n){t.showDetail(e.topic.id)}}},[n("div",{staticClass:"info"},[n("div",{staticClass:"user-info"},[n("img",{attrs:{src:e.author.avatar_url}}),n("div",{staticClass:"desc"},[t._v(t._s(e.author.loginname)+t._s("at"===e.type?"在回复中@了您":"回复了您的话题"))])]),n("div",{staticClass:"date"},[t._v(t._s(t._f("formatDate")(e.reply.create_at)))])]),n("div",{staticClass:"content"},[t._v("话题："+t._s(e.topic.title))])])}),t.hasReadMessages.length<1?n("div",{staticClass:"no-data"},[n("img",{attrs:{src:t._f("assets")("img/nodata@2x.png")}}),n("div",{staticClass:"no-data-text"},[t._v("暂无相关数据")])]):t._e()],2)]),n("transition",{attrs:{name:"msg"},on:{enter:t.enter,"after-leave":t.afterLeave}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!t.toggleMessage,expression:"!toggleMessage"}],staticClass:"container"},[t._l(t.notReadMessages,function(e){return n("div",{staticClass:"wapper",on:{click:function(n){t.showDetail(e.topic.id)}}},[n("div",{staticClass:"info"},[n("div",{staticClass:"user-info"},[n("img",{attrs:{src:e.author.avatar_url}}),n("div",{staticClass:"desc"},[t._v(t._s(e.author.loginname)+t._s("at"===e.type?"在回复中@了您":"回复了您的话题"))])]),n("div",{staticClass:"date"},[t._v(t._s(t._f("formatDate")(e.reply.create_at)))])]),n("div",{staticClass:"content"},[t._v("话题："+t._s(e.topic.title))])])}),t.notReadMessages.length<1?n("div",{staticClass:"no-data"},[n("img",{attrs:{src:t._f("assets")("img/nodata@2x.png")}}),n("div",{staticClass:"no-data-text"},[t._v("暂无相关数据")])]):t._e()],2)])],1),n("transition",{attrs:{name:"tips"},on:{"after-enter":t.tipsAfterEnter}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.showTips,expression:"showTips"}],staticClass:"rotate-tips"},[t._l(t.texts,function(e){return n("div",[t._v(t._s(e))])}),t.unreadMsgCount?n("div",{staticClass:"unread-msg"},[t._v(t._s(t.unreadMsgCount))]):t._e()],2)])],1)])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page publish-page"},[n("v-header",{attrs:{showBack:!1,content:"发布主题"}}),n("div",{staticClass:"item"},[n("div",{staticClass:"title"},[t._v("标题")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],attrs:{placeholder:"字数不得少于10个字"},domProps:{value:t._s(t.title)},on:{input:function(e){e.target.composing||(t.title=e.target.value)}}})]),n("div",{staticClass:"item"},[n("div",{staticClass:"title"},[t._v("所属类别")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.tab,expression:"tab"}],on:{change:function(e){t.tab=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e})[0]}}},t._l(t.categorys,function(e,s){return n("option",{domProps:{value:e.key}},[t._v(t._s(e.tab))])}))]),n("div",{staticClass:"item"},[n("div",{staticClass:"title"},[t._v("发布内容")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{placeholder:"请输入发布内容"},domProps:{value:t._s(t.content)},on:{input:function(e){e.target.composing||(t.content=e.target.value)}}})]),n("div",{staticClass:"item"},[n("button",{on:{click:t.publishTopic}},[t._v("发布")])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page detail-page"},[n("div",{ref:"header",staticClass:"header"},[t._v("主题"),n("div",{staticClass:"btn-back",on:{click:t.dismissModal}}),n("div",{staticClass:"more",on:{click:t.showMenu}},[n("i",{staticClass:"iconfont icon-menu"})])]),n("transition",{attrs:{name:"popover"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.isMenuShow,expression:"isMenuShow"}],staticClass:"popover-backdrop",on:{click:t.hideMenu}},[n("div",{staticClass:"popover-wrapper"},[n("li",{on:{click:t.share}},[n("i",{staticClass:"iconfont icon-share"}),n("span",[t._v("分享")])]),n("li",{on:{click:t.toggleCollect}},[n("i",{staticClass:"iconfont icon-collect"}),n("span",[t._v(t._s(t.collectText))])])])])]),n("div",{directives:[{name:"top",rawName:"v-top"}],staticClass:"detail-content"},[n("div",{staticClass:"theme-header"},[n("div",{staticClass:"info"},[n("img",{attrs:{src:t.theme.author.avatar_url}}),n("div",{staticClass:"text"},[n("div",{staticClass:"name"},[t._v(t._s(t.theme.author.loginname))]),n("div",{staticClass:"publish-time"},[t._v("发布于："+t._s(t._f("formatDate")(t.theme.create_at))+"  "+t._s(t.theme.visit_count)+"次浏览")])])]),n("div",{staticClass:"type"},[t.theme.top?n("i",{staticClass:"iconfont icon-top"}):t._e(),t.theme.good?n("i",{staticClass:"iconfont icon-better"}):t._e()])]),n("div",{staticClass:"theme-title"},[t._v(t._s(t.theme.title))]),n("div",{staticClass:"theme-content markdown-body",domProps:{innerHTML:t._s(t.theme.content)}}),t.theme.replies.length?n("div",{staticClass:"theme-comment"},[t._v("评论数: "+t._s(t.theme.replies.length))]):t._e(),t._l(t.theme.replies,function(e,s){return n("comment-item",{key:s,ref:"comment",refInFor:!0,attrs:{item:e,topic_id:t.theme.id,author_id:t.theme.author_id}})}),n("section",{staticClass:"comment-box"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentContent,expression:"commentContent"}],domProps:{value:t._s(t.commentContent)},on:{input:function(e){e.target.composing||(t.commentContent=e.target.value)}}}),n("button",{on:{click:t.submitComment}},[t._v("评论")])])],2)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"toast"}},[n("div",{staticClass:"toast",class:t.position?t.position:""},[t._v(t._s(t.msg))])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}],staticClass:"loading-backdrop"},[n("div",{staticClass:"load-container loading"},[n("div",{staticClass:"loader"}),n("div",{staticClass:"text"},[t._v(t._s(t.text))])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view"),n("v-footer"),n("loading"),n("transition",{attrs:{name:"modal"}},[n(t.topicView,{ref:"topic",tag:"component"})],1),n("transition",{attrs:{name:"login"},on:{"after-enter":t.afterLoginEnter}},[n(t.loginView,{ref:"login",tag:"component"})],1),n("transition",{attrs:{name:"toast"}},[n(t.toastView,{tag:"component"})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page collect-page"},[n("v-header",{attrs:{content:"我的收藏"}}),t.collecteds.length?n("div",t._l(t.collecteds,function(e,s){return n("list-item",{key:s,attrs:{item:e},on:{"item-click":t.showDetail}})})):n("div",{staticClass:"no-data"},[n("img",{attrs:{src:t._f("assets")("img/nodata@2x.png")}}),n("div",{staticClass:"no-data-text"},[t._v("暂无相关数据")])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page login-page"},[n("div",{staticClass:"header"},[t._v("登陆"),n("div",{staticClass:"btn-back",on:{click:t.dismissModal}})]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.accesstoken,expression:"accesstoken"}],ref:"input",attrs:{placeholder:"请输入accesstoken"},domProps:{value:t._s(t.accesstoken)},on:{input:function(e){e.target.composing||(t.accesstoken=e.target.value)}}}),n("button",{on:{click:t.login}},[t._v("登陆")])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{style:t.headerBGColor},[n("div",{staticClass:"back",style:t.back,on:{click:t.goback}},[n("i",{staticClass:"iconfont icon-arrow-round-left"})]),n("div",{staticClass:"content"},[t._v(t._s(t.content))]),n("div",{staticClass:"menu",style:t.menu,on:{click:t.action}},[n("i",{staticClass:"iconfont icon-share"})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wapper markdown-body"},[n("div",{staticClass:"top"},[n("div",{staticClass:"user-info"},[n("img",{attrs:{src:t.item.author.avatar_url}}),n("div",{staticClass:"desc"},[n("span",{staticClass:"name"},[t._v(t._s(t.item.author.loginname))]),n("div",{staticClass:"text"},[n("span",{staticClass:"publish-date"},[t._v(t._s(t._f("formatDate")(t.item.create_at)))])])])]),n("div",{staticClass:"action"},[n("i",{staticClass:"iconfont icon-zan",on:{click:t.ups}}),n("span",{staticClass:"text",class:{show:t.upsLength}},[t._v(t._s(t.upsLength))]),n("i",{staticClass:"iconfont icon-message",on:{click:t.comment}})])]),n("div",{staticClass:"content",domProps:{innerHTML:t._s(t.item.content)}}),t.commentActive?n("div",{staticClass:"comment-box"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.commentContent,expression:"commentContent"}],ref:"textarea",domProps:{value:t._s(t.commentContent)},on:{input:function(e){e.target.composing||(t.commentContent=e.target.value)}}}),n("button",{on:{click:t.submitComment}},[t._v("回复")])]):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page my-topic-page"},[n("v-header",{attrs:{content:"我的发布"}}),t.mineTopics.length?n("div",t._l(t.mineTopics,function(e){
return n("div",{staticClass:"wapper",on:{click:function(n){t.clickItem(e.id)}}},[n("div",{staticClass:"top"},[n("div",{staticClass:"user-info"},[n("img",{attrs:{src:e.author.avatar_url}}),n("div",{staticClass:"desc"},[n("span",{staticClass:"name"},[t._v(t._s(e.author.loginname))]),n("div",{staticClass:"text"},[n("span",{staticClass:"publish-date"},[t._v("发布时间："+t._s(t._f("formatDate")(e.last_reply_at)))])])])]),n("div",{staticClass:"category"},[e.good?n("i",{staticClass:"iconfont icon-better"}):t._e(),e.top?n("i",{staticClass:"iconfont icon-top"}):t._e()])]),n("div",{staticClass:"content"},[t._v(t._s(e.title))])])})):n("div",{staticClass:"no-data"},[n("img",{attrs:{src:t._f("assets")("img/nodata@2x.png")}}),n("div",{staticClass:"no-data-text"},[t._v("暂无相关数据")])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wapper",on:{click:t.clickItem}},[n("div",{staticClass:"top"},[n("div",{staticClass:"user-info"},[n("img",{attrs:{src:t.item.author.avatar_url}}),n("div",{staticClass:"desc"},[n("span",{staticClass:"name"},[t._v(t._s(t.item.author.loginname))]),n("div",{staticClass:"text"},[n("span",{staticClass:"publish-date"},[t._v(t._s(t._f("formatDate")(t.item.create_at)))]),t._v("来自"),n("span",{staticClass:"type"},[t._v(t._s(t._f("filterCategory")(t.item.tab)))])])])]),n("div",{staticClass:"category"},[t.item.good?n("i",{staticClass:"iconfont icon-better"}):t._e(),t.item.top?n("i",{staticClass:"iconfont icon-top"}):t._e()])]),n("div",{staticClass:"content"},[t._v(t._s(t.item.title))]),n("div",{staticClass:"count-info"},[n("div",{staticClass:"item"},[n("i",{staticClass:"iconfont icon-liulan"}),n("span",[t._v(t._s(t.item.visit_count))])]),n("div",{staticClass:"item"},[n("i",{staticClass:"iconfont icon-message"}),n("span",[t._v(t._s(t.item.reply_count))])]),n("div",{staticClass:"item"},[n("span",[t._v(t._s(t._f("formatDate")(t.item.last_reply_at)))])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"gotop",on:{click:t.goTop}},[n("i",{staticClass:"iconfont icon-gotop"})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"top",rawName:"v-top"}],ref:"content",staticClass:"page index-page"},[n("el-tabs",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],domProps:{value:t.value},on:{input:function(e){t.value=e}}},[n("el-tab-pane",{attrs:{label:"全部",name:"all"}},[t._v("全部")]),n("el-tab-pane",{attrs:{label:"精华",name:"good"}},[t._v("精华")]),n("el-tab-pane",{attrs:{label:"分享",name:"share"}},[t._v("分享")]),n("el-tab-pane",{attrs:{label:"问答",name:"ask"}},[t._v("问答")]),n("el-tab-pane",{attrs:{label:"招聘",name:"job"}},[t._v("招聘")])],1),t._l(t.topics,function(e,s){return n("list-item",{key:s,attrs:{item:e},on:{"item-click":t.showDetail}})})],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{staticClass:"footer"},t._l(t.items,function(e){return n("router-link",{staticClass:"item",attrs:{to:e.path}},[n("i",{staticClass:"iconfont",class:"icon-"+e.icon}),n("div",{staticClass:"text"},[t._v(t._s(e.text))])])}))},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page mine-page"},[n("div",{staticClass:"user-info"},[t.user.accesstoken?n("router-link",{staticClass:"logout",attrs:{to:"/user"},nativeOn:{click:function(e){t.logout(e)}}},[n("i",{staticClass:"iconfont icon-logout"})]):t._e(),n("div",{staticClass:"avatar-container"},[t.user.avatar_url?n("img",{staticClass:"avatar",attrs:{src:t.user.avatar_url}}):n("img",{staticClass:"avatar",attrs:{src:t._f("assets")("img/moren.png")}})]),n("div",{staticClass:"action"},[t.user.id?n("div",{staticClass:"name"},[t._v(t._s(t.user.loginname))]):n("button",{staticClass:"btn-login",on:{click:t.login}},[t._v("立即登录")])])],1),n("div",{staticClass:"mine-enter"},[n("router-link",{staticClass:"item",attrs:{to:{name:"my-collected",params:{loginname:t.user.loginname}}}},[n("i",{staticClass:"iconfont icon-collect"}),n("span",[t._v("我的收藏")])]),t._m(0)],1),n("nav",{staticClass:"quickly-enter"},t._l(t.mines,function(e){return n("router-link",{staticClass:"item",attrs:{to:e.path}},[n("div",{staticClass:"left"},[n("i",{staticClass:"iconfont",class:"icon-"+e.icon}),n("span",[t._v(t._s(e.text))])]),n("div",{staticClass:"right"},[n("i",{staticClass:"iconfont icon-arrow-right"})])])}))])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"item"},[n("i",{staticClass:"iconfont icon-message"}),n("span",[t._v("我的消息")])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"page about-page"},[n("v-header",{attrs:{content:"关于"}}),n("h3",[t._v("前言")]),n("p",[t._v("首先要感谢的就是CNode社区提供的API")])],1)},staticRenderFns:[]}},,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(34),i=n.n(s),o=n(19),a=(n.n(o),n(54)),c=n.n(a),r=n(56),u=(n.n(r),n(55)),l=(n.n(u),n(57)),d=(n.n(l),n(6)),m=n.n(d),f=n(58),p=n.n(f),h=n(59),v=n.n(h),g=n(32),_=n(33),C=n(31),b=n(52),k=n(53);m.a.mixin(C.a),m.a.use(c.a),m.a.use(v.a),i()(b.a).forEach(function(t){m.a.directive(t,b.a[t])}),i()(k).forEach(function(t){m.a.filter(t,k[t])});var w=sessionStorage.getItem("user");w&&_.a.dispatch("validateAccesstoken",JSON.parse(w));var x=new m.a({el:"#app",store:_.a,router:g.a,render:function(t){return t(p.a)}});g.a.beforeEach(function(t,e,n){t.matched.some(function(t){return t.meta.requiresAuth})?_.a.state.user.accesstoken?n():(x.showLoginModal(),x.$on("before-login-action",n)):n()})}]),[182]);
//# sourceMappingURL=app.f75d7656074150a123d9.js.map